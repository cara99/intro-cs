package lab9;

import lab9.providers.ProvidesColor;
import lab9.providers.ReceivesHistory;
import sedgewick.StdDraw;
import lab9.StdDrawView;


public class GetsHistory1 implements ReceivesHistory {
	private ProvidesColor c;
	private double radius = 1.0/12;

	@Override
	/**
	 * retains the history and calls drawcircle
	 */
	public void sendHistory(History history) {
		Guess g = history.getHistoryAt(0);
		int size = history.size();
		Guess mostRecent = history.getHistoryAt(size-1);
		drawCircle(history);
		
	}
	/**
	 * captures the history
	 * @param c
	 */
	public GetsHistory1(ProvidesColor c)
	{
		this.c=c;
	}
	
	/**
	 * draw the circles
	 * @param history
	 */
	public void drawCircle(History history)
	{
	StdDraw.setXscale(-1.0,1.0);
	StdDraw.setYscale(-1.0,1.0);
	Guess a = history.getHistoryAt(history.size()-1);
	for(int i=0; i<4;i++)
	{
		
	StdDraw.setPenColor(c.getColorForPeg(a.getChoice(i)));
	StdDraw.filledCircle(-0.8+ i*0.3, 1.0-0.087*history.size(), radius);
	}
	
	}

}
